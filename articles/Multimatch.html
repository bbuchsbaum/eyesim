<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Multimatch • eyesim</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Multimatch">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eyesim</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Multimatch.html">Multimatch</a></li>
    <li><a class="dropdown-item" href="../articles/Overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/RepetitiveSimilarity.html">Repetitive Similarity</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Multimatch</h1>
            
      

      <div class="d-none name"><code>Multimatch.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="multimatch">Multimatch<a class="anchor" aria-label="anchor" href="#multimatch"></a>
</h2>
<p>MultiMatch (Dewhurst et al. 2012) is a comprehensive method for
analyzing and comparing eye movement scanpaths. It evaluates scanpath
similarity across five dimensions: “vector”, “direction”, “length”,
“position”, and “duration”. By breaking down eye movements into these
distinct components, MultiMatch provides a detailed and nuanced
comparison of visual behavior. This method is particularly useful for
studies in psychology, cognitive science, and human-computer interaction
where understanding visual attention and patterns is crucial. In our
implementation, we add another metric based on the earth mover’s
distance (EMD; ‘position_emd’) between the positions of the fixations.
This should capture similarities in the distributions of the fixations
that are not order-specific.</p>
<p>Let’s simulate a simple eye-movement pattern and compare them with
one another.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate fixation data</span></span>
<span><span class="va">simulate_fixations_linear</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    fixation <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">n</span>,</span>
<span>    x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">50</span>, sd <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">50</span>, sd <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="va">n</span>, lambda <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu">fixation_group</span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">x</span>, <span class="va">out</span><span class="op">$</span><span class="va">y</span>, <span class="va">out</span><span class="op">$</span><span class="va">duration</span>, <span class="va">out</span><span class="op">$</span><span class="va">fixation</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">fixations1</span> <span class="op">&lt;-</span> <span class="fu">simulate_fixations_linear</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">fixations2</span> <span class="op">&lt;-</span> <span class="fu">simulate_fixations_linear</span><span class="op">(</span><span class="fl">12</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fixations1</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fixations2</span><span class="op">)</span></span>
<span><span class="va">p1</span> <span class="op">+</span> <span class="va">p2</span></span></code></pre></div>
<p><img src="Multimatch_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
<p>Now, we will compare the two fixation groups using the
<code>multimatch</code> function.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sp1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">fixations1</span><span class="op">)</span></span>
<span><span class="va">sp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">fixations2</span><span class="op">)</span></span>
<span><span class="fu">eyesim</span><span class="fu">:::</span><span class="fu"><a href="../reference/multi_match.html">multi_match</a></span><span class="op">(</span><span class="va">sp1</span>, <span class="va">sp2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">500</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       mm_vector    mm_direction       mm_length     mm_position     mm_duration </span></span>
<span><span class="co">##       0.9930345       0.9755456       0.9916165       0.7145947       0.9462729 </span></span>
<span><span class="co">## mm_position_emd </span></span>
<span><span class="co">##       0.9167082</span></span></code></pre>
<p>All of the metrics give pretty high values, consistent with the known
similarity of the scanpaths.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate fixation data for each scenario</span></span>
<span><span class="va">simulate_fixations_zigzag</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    fixation <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,</span>
<span>    x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="op">-</span><span class="fl">50</span>, <span class="fl">50</span>, <span class="op">-</span><span class="fl">50</span>, <span class="fl">50</span>, <span class="op">-</span><span class="fl">50</span>, <span class="fl">50</span>, <span class="op">-</span><span class="fl">50</span>, <span class="fl">50</span>, <span class="op">-</span><span class="fl">50</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    duration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">10</span>, lambda <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="fu">fixation_group</span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">x</span>, <span class="va">out</span><span class="op">$</span><span class="va">y</span>, <span class="va">out</span><span class="op">$</span><span class="va">duration</span>, <span class="va">out</span><span class="op">$</span><span class="va">fixation</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="va">fixations1_linear</span> <span class="op">&lt;-</span> <span class="fu">simulate_fixations_linear</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">fixations2_zigzag</span> <span class="op">&lt;-</span> <span class="fu">simulate_fixations_zigzag</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">sp1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">fixations1_linear</span><span class="op">)</span></span>
<span><span class="va">sp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">fixations2_zigzag</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">eyesim</span><span class="fu">:::</span><span class="fu"><a href="../reference/multi_match.html">multi_match</a></span><span class="op">(</span><span class="va">sp1</span>, <span class="va">sp2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">500</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       mm_vector    mm_direction       mm_length     mm_position     mm_duration </span></span>
<span><span class="co">##       0.9400523       0.5882368       0.9884380       0.6518825       0.9247630 </span></span>
<span><span class="co">## mm_position_emd </span></span>
<span><span class="co">##       0.6397256</span></span></code></pre>
<p>We will simulate 8000 pairs of randomly generated scanpaths and show
the distribution of the similarity scores for each metric.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">replicate</a></span><span class="op">(</span><span class="fl">8000</span>, <span class="op">{</span></span>
<span>  <span class="va">fixations1</span> <span class="op">&lt;-</span> <span class="fu">fixation_group</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">*</span><span class="fl">500</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">*</span><span class="fl">500</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">*</span><span class="fl">10</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span>  <span class="va">fixations2</span> <span class="op">&lt;-</span> <span class="fu">fixation_group</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">*</span><span class="fl">500</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">*</span><span class="fl">500</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">*</span><span class="fl">10</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fg1<span class="op">=</span><span class="va">fixations1</span>, fg2<span class="op">=</span><span class="va">fixations2</span><span class="op">)</span></span>
<span>  <span class="co">#sp1 &lt;- scanpath(fixations1)</span></span>
<span>  <span class="co">#sp2 &lt;- scanpath(fixations2)</span></span>
<span>  <span class="co">#eyesim:::multi_match(sp1, sp2, c(500,500))</span></span>
<span><span class="op">}</span>, simplify<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ssdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">fgs</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">eyesim</span><span class="fu">:::</span><span class="fu"><a href="../reference/multi_match.html">multi_match</a></span><span class="op">(</span><span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">fg1</span><span class="op">)</span>, <span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">fg2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">500</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">bind_rows</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Create ridgeline plots for each MultiMatch metric</span></span>
<span><span class="va">ridgeline_vector</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">ssdf</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">mm_vector</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fl">1</span>, labels <span class="op">=</span> <span class="st">"Vector Similarity"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_density_ridges</span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">3</span>, rel_min_height <span class="op">=</span> <span class="fl">0.01</span>, bandwidth <span class="op">=</span> <span class="fl">0.05</span>, fill <span class="op">=</span> <span class="st">'blue'</span>, color <span class="op">=</span> <span class="st">'black'</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Similarity'</span>, y <span class="op">=</span> <span class="st">''</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme_ridges</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme</span><span class="op">(</span>axis.title.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ridgeline_direction</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">ssdf</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">mm_direction</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fl">1</span>, labels <span class="op">=</span> <span class="st">"Direction Similarity"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_density_ridges</span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">3</span>, rel_min_height <span class="op">=</span> <span class="fl">0.01</span>, bandwidth <span class="op">=</span> <span class="fl">0.05</span>, fill <span class="op">=</span> <span class="st">'green'</span>, color <span class="op">=</span> <span class="st">'black'</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Similarity'</span>, y <span class="op">=</span> <span class="st">''</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme_ridges</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme</span><span class="op">(</span>axis.title.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ridgeline_length</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">ssdf</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">mm_length</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fl">1</span>, labels <span class="op">=</span> <span class="st">"Length Similarity"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_density_ridges</span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">3</span>, rel_min_height <span class="op">=</span> <span class="fl">0.01</span>, bandwidth <span class="op">=</span> <span class="fl">0.05</span>, fill <span class="op">=</span> <span class="st">'red'</span>, color <span class="op">=</span> <span class="st">'black'</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Similarity'</span>, y <span class="op">=</span> <span class="st">''</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme_ridges</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme</span><span class="op">(</span>axis.title.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ridgeline_position</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">ssdf</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">mm_position</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fl">1</span>, labels <span class="op">=</span> <span class="st">"Position Similarity"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_density_ridges</span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">3</span>, rel_min_height <span class="op">=</span> <span class="fl">0.01</span>, bandwidth <span class="op">=</span> <span class="fl">0.05</span>, fill <span class="op">=</span> <span class="st">'purple'</span>, color <span class="op">=</span> <span class="st">'black'</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Similarity'</span>, y <span class="op">=</span> <span class="st">''</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme_ridges</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme</span><span class="op">(</span>axis.title.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ridgeline_duration</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">ssdf</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">mm_duration</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fl">1</span>, labels <span class="op">=</span> <span class="st">"Duration Similarity"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_density_ridges</span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">3</span>, rel_min_height <span class="op">=</span> <span class="fl">0.01</span>, bandwidth <span class="op">=</span> <span class="fl">0.05</span>, fill <span class="op">=</span> <span class="st">'orange'</span>, color <span class="op">=</span> <span class="st">'black'</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Similarity'</span>, y <span class="op">=</span> <span class="st">''</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme_ridges</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme</span><span class="op">(</span>axis.title.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ridgeline_emd</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">ssdf</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">mm_position_emd</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fl">1</span>, labels <span class="op">=</span> <span class="st">"EMD Similarity"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_density_ridges</span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">3</span>, rel_min_height <span class="op">=</span> <span class="fl">0.01</span>, bandwidth <span class="op">=</span> <span class="fl">0.05</span>, fill <span class="op">=</span> <span class="st">'cyan'</span>, color <span class="op">=</span> <span class="st">'black'</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Similarity'</span>, y <span class="op">=</span> <span class="st">''</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme_ridges</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">theme</span><span class="op">(</span>axis.title.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Combine the ridgeline plots using patchwork</span></span>
<span><span class="va">combined_plot</span> <span class="op">&lt;-</span> <span class="va">ridgeline_vector</span> <span class="op">/</span> <span class="va">ridgeline_direction</span> <span class="op">/</span> <span class="va">ridgeline_length</span> <span class="op">/</span> <span class="va">ridgeline_position</span> <span class="op">/</span> <span class="va">ridgeline_duration</span> <span class="op">/</span> <span class="va">ridgeline_emd</span> <span class="op">+</span> </span>
<span>  <span class="fu">plot_layout</span><span class="op">(</span>ncol <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the combined plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">combined_plot</span><span class="op">)</span></span></code></pre></div>
<p><img src="Multimatch_files/figure-html/unnamed-chunk-4-1.png" width="768"></p>
<p>Let’s plot the fixations for the extreme values of the multimatch
metrics. By examining the highest and lowest pairs we can gain insight
into what each metric is capturing. Note that the size of points
captures duration of each fixation.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"vector"</span>, <span class="st">"direction"</span>, <span class="st">"length"</span>, <span class="st">"position"</span>, <span class="st">"duration"</span>, <span class="st">"position_emd"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">extremes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">metrics</span>, <span class="kw">function</span><span class="op">(</span><span class="va">metric</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"mm_"</span>, <span class="va">metric</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    high <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.max</a></span><span class="op">(</span><span class="va">ssdf</span><span class="op">[[</span><span class="va">m</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>    low <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.min</a></span><span class="op">(</span><span class="va">ssdf</span><span class="op">[[</span><span class="va">m</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">extremes</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">metrics</span></span>
<span></span>
<span><span class="co"># Function to create a plot for a fixation group with a title and annotation</span></span>
<span><span class="va">plot_fixation_group</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">fg</span>, <span class="va">title</span>, <span class="va">metric_value</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu">ggtitle</span><span class="op">(</span><span class="va">title</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu">annotate</span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="cn">Inf</span>, y <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"score:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">metric_value</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>, </span>
<span>             hjust <span class="op">=</span> <span class="fl">1.1</span>, vjust <span class="op">=</span> <span class="op">-</span><span class="fl">1.1</span>, size <span class="op">=</span> <span class="fl">2</span>, color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Create plots for each metric</span></span>
<span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">extremes</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">metric</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">high_index</span> <span class="op">&lt;-</span> <span class="va">extremes</span><span class="op">[[</span><span class="va">metric</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">high</span></span>
<span>  <span class="va">low_index</span> <span class="op">&lt;-</span> <span class="va">extremes</span><span class="op">[[</span><span class="va">metric</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">low</span></span>
<span>  </span>
<span>  <span class="va">metric_high_value</span> <span class="op">&lt;-</span> <span class="va">ssdf</span><span class="op">[</span><span class="va">high_index</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"mm_"</span>, <span class="va">metric</span><span class="op">)</span><span class="op">]</span></span>
<span>  <span class="va">metric_low_value</span> <span class="op">&lt;-</span> <span class="va">ssdf</span><span class="op">[</span><span class="va">low_index</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"mm_"</span>, <span class="va">metric</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span>  <span class="va">high_fg1</span> <span class="op">&lt;-</span> <span class="va">fgs</span><span class="op">[[</span><span class="va">high_index</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">fg1</span></span>
<span>  <span class="va">high_fg2</span> <span class="op">&lt;-</span> <span class="va">fgs</span><span class="op">[[</span><span class="va">high_index</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">fg2</span></span>
<span>  <span class="va">low_fg1</span> <span class="op">&lt;-</span> <span class="va">fgs</span><span class="op">[[</span><span class="va">low_index</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">fg1</span></span>
<span>  <span class="va">low_fg2</span> <span class="op">&lt;-</span> <span class="va">fgs</span><span class="op">[[</span><span class="va">low_index</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">fg2</span></span>
<span></span>
<span>  <span class="va">high_plot1</span> <span class="op">&lt;-</span> <span class="fu">plot_fixation_group</span><span class="op">(</span><span class="va">high_fg1</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">metric</span>, <span class="st">"High(1)"</span><span class="op">)</span>, <span class="va">metric_high_value</span><span class="op">)</span></span>
<span>  <span class="va">high_plot2</span> <span class="op">&lt;-</span> <span class="fu">plot_fixation_group</span><span class="op">(</span><span class="va">high_fg2</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">metric</span>, <span class="st">"High(2)"</span><span class="op">)</span>, <span class="va">metric_high_value</span><span class="op">)</span></span>
<span>  <span class="va">low_plot1</span> <span class="op">&lt;-</span> <span class="fu">plot_fixation_group</span><span class="op">(</span><span class="va">low_fg1</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">metric</span>, <span class="st">"Low(1)"</span><span class="op">)</span>, <span class="va">metric_low_value</span><span class="op">)</span></span>
<span>  <span class="va">low_plot2</span> <span class="op">&lt;-</span> <span class="fu">plot_fixation_group</span><span class="op">(</span><span class="va">low_fg2</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">metric</span>, <span class="st">"Low(2)"</span><span class="op">)</span>, <span class="va">metric_low_value</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>high_plot <span class="op">=</span> <span class="va">high_plot1</span> <span class="op">+</span> <span class="va">high_plot2</span>, low_plot <span class="op">=</span> <span class="va">low_plot1</span> <span class="op">+</span> <span class="va">low_plot2</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the size of each plot</span></span>
<span><span class="va">plot_height</span> <span class="op">&lt;-</span> <span class="fl">12</span> <span class="co"># Adjust height as needed</span></span>
<span><span class="va">plot_width</span> <span class="op">&lt;-</span> <span class="fl">12</span> <span class="co"># Adjust width as needed</span></span>
<span></span>
<span><span class="co"># Combine and arrange plots using patchwork</span></span>
<span><span class="va">high_plots</span> <span class="op">&lt;-</span> <span class="fu">wrap_plots</span><span class="op">(</span></span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">high_plot</span>,</span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">high_plot</span>,</span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">high_plot</span>,</span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">high_plot</span>,</span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">5</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">high_plot</span>,</span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">6</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">high_plot</span>,</span>
<span>  nrow <span class="op">=</span> <span class="fl">6</span></span>
<span><span class="op">)</span> <span class="op">+</span> <span class="fu">plot_layout</span><span class="op">(</span>guides <span class="op">=</span> <span class="st">'collect'</span>, heights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plot_height</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"High MultiMatch Scores"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">low_plots</span> <span class="op">&lt;-</span> <span class="fu">wrap_plots</span><span class="op">(</span></span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">low_plot</span>,</span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">low_plot</span>,</span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">low_plot</span>,</span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">low_plot</span>,</span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">5</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">low_plot</span>,</span>
<span>  <span class="va">plots</span><span class="op">[[</span><span class="fl">6</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">low_plot</span>,</span>
<span>  nrow <span class="op">=</span> <span class="fl">6</span></span>
<span><span class="op">)</span> <span class="op">+</span> <span class="fu">plot_layout</span><span class="op">(</span>guides <span class="op">=</span> <span class="st">'collect'</span>, heights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plot_height</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Low MultiMatch Scores"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the plots to file</span></span>
<span><span class="co">#ggsave("high_plots.png", plot = high_plots, height = plot_height * 5, width = plot_width, units = "in")</span></span>
<span><span class="co">#ggsave("low_plots.png", plot = low_plots, height = plot_height * 5, width = plot_width, units = "in")</span></span></code></pre></div>
<p>These are the highest pairs of scanpaths for each metric.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">high_plots</span></span></code></pre></div>
<p><img src="Multimatch_files/figure-html/unnamed-chunk-6-1.png" width="768"></p>
<p>And the lowest.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">low_plots</span></span></code></pre></div>
<p><img src="Multimatch_files/figure-html/unnamed-chunk-7-1.png" width="768"></p>
</div>
<div class="section level2">
<h2 id="how-transofrmations-impact-multimatch-metrics">How transofrmations impact Multimatch metrics<a class="anchor" aria-label="anchor" href="#how-transofrmations-impact-multimatch-metrics"></a>
</h2>
<p>Let’s generate a random scanpath and apply some transformations to it
to see how the multimatch metrics change.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fg</span> <span class="op">&lt;-</span> <span class="fu">fixation_group</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">*</span><span class="fl">500</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">*</span><span class="fl">500</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">*</span><span class="fl">10</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span></span></code></pre></div>
<p><img src="Multimatch_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">eyesim</span><span class="fu">:::</span><span class="fu"><a href="../reference/multi_match.html">multi_match</a></span><span class="op">(</span><span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span>, <span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">500</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       mm_vector    mm_direction       mm_length     mm_position     mm_duration </span></span>
<span><span class="co">##               1               1               1               1               1 </span></span>
<span><span class="co">## mm_position_emd </span></span>
<span><span class="co">##               1</span></span></code></pre>
<p>Now, we will scale the second scanpath by .5 and recompute the
multimatch metrics. You will notice that the “direction” metric remains
1, while position (especially) decreases dramatically. This is because
the absolute positions of the fixations are not preserved under
scaling.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fg2</span> <span class="op">&lt;-</span> <span class="va">fg</span></span>
<span><span class="va">fg2</span><span class="op">$</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">fg2</span><span class="op">$</span><span class="va">y</span> <span class="op">*</span> <span class="fl">.5</span></span>
<span><span class="va">fg2</span><span class="op">$</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">fg2</span><span class="op">$</span><span class="va">x</span> <span class="op">*</span> <span class="fl">.5</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ylim</span><span class="op">(</span><span class="fl">0</span>,<span class="fl">500</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Scale for <span style="color: #00BB00;">y</span> is already present.</span></span>
<span><span class="co">## Adding another scale for <span style="color: #00BB00;">y</span>, which will replace the existing scale.</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg2</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ylim</span><span class="op">(</span><span class="fl">0</span>,<span class="fl">500</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Scale for <span style="color: #00BB00;">y</span> is already present.</span></span>
<span><span class="co">## Adding another scale for <span style="color: #00BB00;">y</span>, which will replace the existing scale.</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span><span class="op">+</span><span class="va">p2</span></span></code></pre></div>
<p><img src="Multimatch_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">eyesim</span><span class="fu">:::</span><span class="fu"><a href="../reference/multi_match.html">multi_match</a></span><span class="op">(</span><span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span>, <span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">fg2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">500</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       mm_vector    mm_direction       mm_length     mm_position     mm_duration </span></span>
<span><span class="co">##       0.9300530       1.0000000       0.8601060       0.8158216       1.0000000 </span></span>
<span><span class="co">## mm_position_emd </span></span>
<span><span class="co">##       0.8000760</span></span></code></pre>
<p>Next we will preserve the positions of the fixations but scramble
their order. This will have a large impact on the “direction” metric,
but not on the other metrics. Note also the earth mover’s distance
should remain high.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fg2</span> <span class="op">&lt;-</span> <span class="va">fg</span></span>
<span><span class="va">ord</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">fg2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">fg2</span><span class="op">$</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">fg2</span><span class="op">$</span><span class="va">x</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span></span>
<span><span class="va">fg2</span><span class="op">$</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">fg2</span><span class="op">$</span><span class="va">y</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span></span>
<span><span class="va">fg2</span><span class="op">$</span><span class="va">duration</span> <span class="op">&lt;-</span> <span class="va">fg2</span><span class="op">$</span><span class="va">duration</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ylim</span><span class="op">(</span><span class="fl">0</span>,<span class="fl">500</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Scale for <span style="color: #00BB00;">y</span> is already present.</span></span>
<span><span class="co">## Adding another scale for <span style="color: #00BB00;">y</span>, which will replace the existing scale.</span></span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg2</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ylim</span><span class="op">(</span><span class="fl">0</span>,<span class="fl">500</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Scale for <span style="color: #00BB00;">y</span> is already present.</span></span>
<span><span class="co">## Adding another scale for <span style="color: #00BB00;">y</span>, which will replace the existing scale.</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span><span class="op">+</span><span class="va">p2</span></span></code></pre></div>
<p><img src="Multimatch_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">eyesim</span><span class="fu">:::</span><span class="fu"><a href="../reference/multi_match.html">multi_match</a></span><span class="op">(</span><span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span>, <span class="fu"><a href="../reference/scanpath.html">scanpath</a></span><span class="op">(</span><span class="va">fg2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>,<span class="fl">500</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       mm_vector    mm_direction       mm_length     mm_position     mm_duration </span></span>
<span><span class="co">##       0.8242253       0.5280783       0.9153703       0.6467169       0.3750000 </span></span>
<span><span class="co">## mm_position_emd </span></span>
<span><span class="co">##       0.9945680</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Dewhurst, R., Nyström, M., Jarodzka, H., Foulsham, T., Johansson, R.,
&amp; Holmqvist, K. (2012). It depends on how you look at it: Scanpath
comparison in multiple dimensions with MultiMatch, a vector-based
approach. Behavior Research Methods, 44, 1079-1100.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bradley Buchsbaum.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
