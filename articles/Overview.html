<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Overview • eyesim</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Overview">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eyesim</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Multimatch.html">Multimatch</a></li>
    <li><a class="dropdown-item" href="../articles/Overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/RepetitiveSimilarity.html">Repetitive Similarity</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Overview</h1>
            
      

      <div class="d-none name"><code>Overview.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="eye-movement-similarity-analysis">Eye-movement similarity analysis<a class="anchor" aria-label="anchor" href="#eye-movement-similarity-analysis"></a>
</h2>
<p>The main goal of <code>eyesim</code> is to provide tools for
computing measures of similarity between eye-movement fixation data
collected over a series of trials embedded in an experimental design. A
major focus of the library is to offer easy ways to compare fixation
patterns between two experimental states, for example, between
perceiving an image and remembering that same image. These kinds of
analyses are useful in assessing and quantifying so-called “eye-movement
reinstatement” in studies of memory. Below we describe some basic
aspects of the library that should allow one to get started with it.</p>
</div>
<div class="section level2">
<h2 id="a-basic-unit-the-fixation-group">A Basic unit: the fixation group<a class="anchor" aria-label="anchor" href="#a-basic-unit-the-fixation-group"></a>
</h2>
<p>A fixation group is a set of eye-movement fixations that comprise a
meaningful unit in a study, for example, a trial, a condition, a
participants, a time window, etc. Every fixation group contains a set of
xy coordinates and corresponding vectors indicating the
<code>onset</code> (when did the fixation start?) and the
<code>duration</code> (how long did the fixation last?) of the sequence
of fixations. Below we create a fixation group from a set of 3
coordinates occurring at at times 0, 10, and 60.</p>
<p>After creating a <code>fixation_group</code> object, we then plot it
to visualize the location of the three fixations. The size of each point
is scaled by duration and the color of each point is mapped to the onset
time, with yellow colors being early-ocurring and red colors being
late-occurring in this group.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bbuchsbaum.github.io/eyesim/">eyesim</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">fg</span> <span class="op">&lt;-</span> <span class="fu">fixation_group</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">100</span>, <span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">0</span><span class="op">)</span>, onset<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">10</span>,<span class="fl">60</span><span class="op">)</span>, duration<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">50</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-2-1.png" class="r-plt" width="768"></p>
<p>Now we create larger group consisting of 25 randomly generated
eye-movements.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">## generate random fixation coordinates</span></span>
<span><span class="va">cds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## generate random increasing onsets</span></span>
<span><span class="va">onset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">25</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## construct a "fixation_group" object</span></span>
<span><span class="va">fg</span> <span class="op">&lt;-</span> <span class="fu">fixation_group</span><span class="op">(</span>x<span class="op">=</span><span class="va">cds</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, y<span class="op">=</span><span class="va">cds</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, onset<span class="op">=</span><span class="va">onset</span>, duration<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">onset</span><span class="op">)</span>,<span class="fl">25</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-3-1.png" class="r-plt" width="700"></p>
<p>That’s a pretty busy display, but captures the sequence of
eye-movements. We can also plot various kinds of “density” maps which
show where the fixations were most likely to occur.</p>
<p>Below we show three different ways of plotting fixation density: a
contour plot, a raster plot, and a filled contour plot.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span>, typ<span class="op">=</span><span class="st">"contour"</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, bandwidth<span class="op">=</span><span class="fl">35</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span>, typ<span class="op">=</span><span class="st">"raster"</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, bandwidth<span class="op">=</span><span class="fl">35</span><span class="op">)</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span>, typ<span class="op">=</span><span class="st">"filled_contour"</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, bandwidth<span class="op">=</span><span class="fl">35</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span><span class="op">+</span><span class="va">p2</span><span class="op">+</span><span class="va">p3</span></span>
<span><span class="co">#&gt; Warning: The dot-dot notation (`..level..`) was deprecated in ggplot2 3.4.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use `after_stat(level)` instead.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The deprecated feature was likely used in the <span style="color: #0000BB;">eyesim</span> package.</span></span>
<span><span class="co">#&gt;   Please report the issue to the authors.</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">generated.</span></span></span>
<span><span class="co">#&gt; Warning: Computation failed in `stat_density2d()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_density2d()`.</span></span>
<span><span class="co">#&gt; Caused by error in `precompute_2d_bw()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> `h` must be a vector of length 2, not length 1.</span></span>
<span><span class="co">#&gt; Warning: Computation failed in `stat_density2d_filled()`.</span></span>
<span><span class="co">#&gt; Caused by error in `precompute_2d_bw()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> `h` must be a vector of length 2, not length 1.</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-4-1.png" class="r-plt" width="768"></p>
<p>We can also vary the bandwidth of the two-dimensional density
estimation procedure to visualize the fixations at different levels of
smoothness.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span>, typ<span class="op">=</span><span class="st">"filled_contour"</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, bandwidth<span class="op">=</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span>, typ<span class="op">=</span><span class="st">"filled_contour"</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, bandwidth<span class="op">=</span><span class="fl">60</span><span class="op">)</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg</span>, typ<span class="op">=</span><span class="st">"filled_contour"</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>,<span class="fl">110</span><span class="op">)</span>, bandwidth<span class="op">=</span><span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span><span class="op">+</span><span class="va">p2</span><span class="op">+</span><span class="va">p3</span></span>
<span><span class="co">#&gt; Warning: Computation failed in `stat_density2d_filled()`.</span></span>
<span><span class="co">#&gt; Caused by error in `precompute_2d_bw()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> `h` must be a vector of length 2, not length 1.</span></span>
<span><span class="co">#&gt; Warning: Computation failed in `stat_density2d_filled()`.</span></span>
<span><span class="co">#&gt; Caused by error in `precompute_2d_bw()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> `h` must be a vector of length 2, not length 1.</span></span>
<span><span class="co">#&gt; Warning: Computation failed in `stat_density2d_filled()`.</span></span>
<span><span class="co">#&gt; Caused by error in `precompute_2d_bw()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> `h` must be a vector of length 2, not length 1.</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-5-1.png" class="r-plt" width="768"></p>
</div>
<div class="section level2">
<h2 id="computing-similarity-between-fixation-groups">Computing similarity between fixation groups<a class="anchor" aria-label="anchor" href="#computing-similarity-between-fixation-groups"></a>
</h2>
<p>Suppose we have two fixation groups, <code>fg1</code> and
<code>fg2</code>, how do we compare these coordinate sets? The
<code>eyesim</code> package provides methods for computing similarities
between spatial density maps. Below, we generate two eye-movement
patterns, one of which is a perturbed version of the other. Then we
compute a series of similarity metrics on the two patterns.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="va">cds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cds2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">i</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">cds</span><span class="op">[</span><span class="va">i</span>,<span class="fl">1</span><span class="op">]</span>, y<span class="op">=</span><span class="va">cds</span><span class="op">[</span><span class="va">i</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">onset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">25</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">fg1</span> <span class="op">&lt;-</span> <span class="fu">fixation_group</span><span class="op">(</span>x<span class="op">=</span><span class="va">cds</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, y<span class="op">=</span><span class="va">cds</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, onset<span class="op">=</span><span class="va">onset</span>, duration<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">onset</span><span class="op">)</span>,<span class="fl">25</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">fg2</span> <span class="op">&lt;-</span> <span class="fu">fixation_group</span><span class="op">(</span>x<span class="op">=</span><span class="va">cds2</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, y<span class="op">=</span><span class="va">cds2</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, onset<span class="op">=</span><span class="va">onset</span>, duration<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">onset</span><span class="op">)</span>,<span class="fl">25</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg1</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fg2</span><span class="op">)</span></span>
<span><span class="va">p1</span><span class="op">+</span><span class="va">p2</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-6-1.png" class="r-plt" width="672"></p>
<p>To compute the similarity between any two
<code>fixation_group</code>s we use the <code>similarity</code> generic
function. First we convert the <code>fixation_group</code>s into
<code>eye_density</code> objects and then compute their similarity. The
default metric for comparing two density maps is the Pearson correlation
coefficient.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">ed1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eye_density.html">eye_density</a></span><span class="op">(</span><span class="va">fg1</span>, sigma<span class="op">=</span><span class="fl">50</span>, xbounds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span>, ybounds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ed2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eye_density.html">eye_density</a></span><span class="op">(</span><span class="va">fg2</span>, sigma<span class="op">=</span><span class="fl">50</span>, xbounds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span>, ybounds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ed3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eye_density.html">eye_density</a></span><span class="op">(</span><span class="va">fg2</span>, sigma<span class="op">=</span><span class="fl">50</span>, xbounds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span>, ybounds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span>, duration_weighted <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/similarity.html">similarity</a></span><span class="op">(</span><span class="va">ed1</span>,<span class="va">ed2</span><span class="op">)</span></span>
<span><span class="va">s1</span></span>
<span><span class="co">#&gt; [1] 0.808746</span></span></code></pre></div>
<p>We can compute other similarity measures as well. Below we compute
similarity using the Pearson correlation, Spearman correlation, the
Fisher-transformed Pearson correlation, the cosine similarity, the “l1”
similarity based on the 1-norm, the <a href="https://en.wikipedia.org/wiki/Jaccard_index" class="external-link">Jaccard
similarity</a> (from <code>proxy</code> package), and the <a href="https://en.wikipedia.org/wiki/Distance_correlation" class="external-link">distance
covariance</a> (<code>dcov</code> from the <code>energy</code>
package).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">methods</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pearson"</span>, <span class="st">"spearman"</span>, <span class="st">"fisherz"</span>, <span class="st">"cosine"</span>, <span class="st">"l1"</span>, <span class="st">"jaccard"</span>, <span class="st">"dcov"</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">meth</span> <span class="kw">in</span> <span class="va">methods</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/similarity.html">similarity</a></span><span class="op">(</span><span class="va">ed1</span>,<span class="va">ed2</span>, method<span class="op">=</span><span class="va">meth</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">meth</span>, <span class="st">":"</span>, <span class="va">s1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] "pearson : 0.808746026103112"</span></span>
<span><span class="co">#&gt; [1] "spearman : 0.809895263806257"</span></span>
<span><span class="co">#&gt; [1] "fisherz : 1.12339341493312"</span></span>
<span><span class="co">#&gt; [1] "cosine : 0.994979279138522"</span></span>
<span><span class="co">#&gt; [1] "l1 : 0.954777793980802"</span></span>
<span><span class="co">#&gt; [1] "jaccard : 0.990007122635681"</span></span>
<span><span class="co">#&gt; [1] "dcov : 0.774013464858466"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="computing-similarity-between-set-of-fixation-groups-in-an-experiment">Computing similarity between set of fixation groups in an
experiment<a class="anchor" aria-label="anchor" href="#computing-similarity-between-set-of-fixation-groups-in-an-experiment"></a>
</h2>
<p>Suppose we have a memory experiment in which images are presented
during an “encoding” block and also during a retrieval/recognition
block. Some images are repeated (or cued in some way) and subjects asked
to recognize (or recall) the images. In this situation, we might want to
compute the pairwise similarity between encoding and retrieval trials
when the image was repeated. We might also want to control for
non-specific eye-movement similarity between any two arbitrary encoding
and retrieval trials.</p>
<p>Here we will simulate data from an experiment in which 50 images are
shown during an encoding block and then the same 50 images are shown (or
cued) during a retrieval block. We will then compute the eye-movement
similarity between the encoding and retrieval trials corresponding to
the same imege and the average similarity between a set of
non-corresponding encoding and retrieval trials.</p>
<p>We will generate data for three participants, each of which has 50
encoding and 50 retrieval trials. We will use the <code>eye_table</code>
data structure, which is an extension of <code>data.frame</code> to hold
the data.</p>
<p>The the code below, the function <code>gen_fixations</code> generates
a number of fixations (between 1 and 10) that are randomly distributed
in a 100 by 100 coordinate frame. Although the fixations for every trial
are randomly selected, we assign an experimental condition (“encoding”,
“retrieval”) and subject id (“s1”, “s2”, “s3”) to each set of generated
coordinates.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">gen_fixations</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">imname</span>, <span class="va">phase</span>, <span class="va">trial</span>, <span class="va">participant</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co">## generate some number of fixation between 1 and 10</span></span>
<span>  <span class="va">nfix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">ceiling</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fl">10</span><span class="op">)</span></span>
<span>  <span class="va">cds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">nfix</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span>, y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">onset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">nfix</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span>  <span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">cds</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, y<span class="op">=</span><span class="va">cds</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, onset<span class="op">=</span><span class="va">onset</span>, </span>
<span>                    duration<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">onset</span><span class="op">)</span>,<span class="fl">100</span><span class="op">)</span>, image<span class="op">=</span><span class="va">imname</span>, </span>
<span>                    phase<span class="op">=</span><span class="va">phase</span>, trial<span class="op">=</span><span class="va">trial</span>, participant<span class="op">=</span><span class="va">participant</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"s1"</span>, <span class="st">"s2"</span>, <span class="st">"s3"</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">snum</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"encoding"</span>, <span class="st">"retrieval"</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">phase</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">trial</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">gen_fixations</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"im"</span>, <span class="va">trial</span><span class="op">)</span>, <span class="va">phase</span>, <span class="va">trial</span>, <span class="va">snum</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Now we are ready to create an <code>eye_table</code> data structure
which stores the fixations and associates them with the experimental
design and a grouping structure. Here we will group the fixations by
“image”, “participant”, and “phase”. The will allow sets of fixations to
be grouped together in <code>fixation_group</code>s so that eye-movement
similarity analyses can be carried out. Without grouping variables,
there is no way to know how to pool eye-movements together in sets
appropriate for kernel density estimation or other analyses.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">eyetab</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eye_table.html">eye_table</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"duration"</span>, <span class="st">"onset"</span>, groupvar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"participant"</span>, <span class="st">"phase"</span>, <span class="st">"image"</span><span class="op">)</span>, data<span class="op">=</span><span class="va">df1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 300 × 4</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   participant, phase, image [300]</span></span></span>
<span><span class="co">#&gt;    participant phase    image fixgroup          </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> s1          encoding im1   <span style="color: #949494;">&lt;fxtn_grp [5 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> s1          encoding im10  <span style="color: #949494;">&lt;fxtn_grp [4 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> s1          encoding im11  <span style="color: #949494;">&lt;fxtn_grp [4 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> s1          encoding im12  <span style="color: #949494;">&lt;fxtn_grp [2 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> s1          encoding im13  <span style="color: #949494;">&lt;fxtn_grp [9 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> s1          encoding im14  <span style="color: #949494;">&lt;fxtn_grp [9 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> s1          encoding im15  <span style="color: #949494;">&lt;fxtn_grp [5 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> s1          encoding im16  <span style="color: #949494;">&lt;fxtn_grp [6 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> s1          encoding im17  <span style="color: #949494;">&lt;fxtn_grp [6 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> s1          encoding im18  <span style="color: #949494;">&lt;fxtn_grp [4 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 290 more rows</span></span></span></code></pre>
<p>Next, we will compute the similarity between encoding-retrieval
pairs, such that each pair consists of the same image viewed at encoding
and retrieval, respectively. In essence, we need to “match” each
retrieval trial with its corresponding encoding trial, such that the
viewed images in both conditions are the same.</p>
<p>The first step is to compute “density maps” for each fixation_group,
defined by the intersection of the participant, image, and phase
variables stored in the <code>eyetab</code> object.</p>
<p>Below we compute the density maps for all combinations of
participant, image, and phase and plot the first four density maps of
the resulting set.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">eyedens</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/density_by.html">density_by</a></span><span class="op">(</span><span class="va">eyetab</span>, groups<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"phase"</span>, <span class="st">"image"</span>, <span class="st">"participant"</span><span class="op">)</span>, sigma<span class="op">=</span><span class="fl">100</span>, xbounds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span>, ybounds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">eyedens</span><span class="op">$</span><span class="va">density</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">eyedens</span><span class="op">$</span><span class="va">density</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">eyedens</span><span class="op">$</span><span class="va">density</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">p4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">eyedens</span><span class="op">$</span><span class="va">density</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">p1</span> <span class="op">+</span> <span class="va">p2</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">p3</span><span class="op">+</span> <span class="va">p4</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-12-1.png" class="r-plt" width="700"></p>
<p>Below we print the first 10 rows of the resulting data.frame, which
contains the <code>eye_density</code> objects stored in the
<code>density</code> variable.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eyedens</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 276 × 5</span></span></span>
<span><span class="co">#&gt;    phase    image participant fixgroup            density       </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> encoding im1   s1          <span style="color: #949494;">&lt;fxtn_grp [5 × 6]&gt;</span>  <span style="color: #949494;">&lt;ey_dnsty [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> encoding im1   s2          <span style="color: #949494;">&lt;fxtn_grp [10 × 6]&gt;</span> <span style="color: #949494;">&lt;ey_dnsty [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> encoding im1   s3          <span style="color: #949494;">&lt;fxtn_grp [2 × 6]&gt;</span>  <span style="color: #949494;">&lt;ey_dnsty [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> encoding im10  s1          <span style="color: #949494;">&lt;fxtn_grp [4 × 6]&gt;</span>  <span style="color: #949494;">&lt;ey_dnsty [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> encoding im10  s2          <span style="color: #949494;">&lt;fxtn_grp [7 × 6]&gt;</span>  <span style="color: #949494;">&lt;ey_dnsty [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> encoding im11  s1          <span style="color: #949494;">&lt;fxtn_grp [4 × 6]&gt;</span>  <span style="color: #949494;">&lt;ey_dnsty [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> encoding im11  s2          <span style="color: #949494;">&lt;fxtn_grp [3 × 6]&gt;</span>  <span style="color: #949494;">&lt;ey_dnsty [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> encoding im11  s3          <span style="color: #949494;">&lt;fxtn_grp [8 × 6]&gt;</span>  <span style="color: #949494;">&lt;ey_dnsty [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> encoding im12  s1          <span style="color: #949494;">&lt;fxtn_grp [2 × 6]&gt;</span>  <span style="color: #949494;">&lt;ey_dnsty [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> encoding im12  s2          <span style="color: #949494;">&lt;fxtn_grp [3 × 6]&gt;</span>  <span style="color: #949494;">&lt;ey_dnsty [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 266 more rows</span></span></span></code></pre></div>
<p>Now that we have the set of <code>eye_density</code> maps, we can run
a similarity analysis. To do this, we use the
<code>template_similarity</code> function. We want to compare each
“retrieval” density map to its corresponding encoding density map (the
“template”). And we want to “match” on the name of the image that was
first studied (during “encoding”) and later recognized (during
“retrieval”).</p>
<p>First, we split out the encoding and retrieval trials using the
<code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter</a></code> method. Next we call
<code>template_similarity</code> and indicating that pairs should be
matched by the <code>image</code> variable. We choose the
<code>fisherz</code> similarity measure and correct for non-specific
eye-movement similarity using 50 permutations in which similarity is
computed for non-matching image pairs and subtracted from the similarity
score.</p>
<p>The raw similarity score is returned as <code>eye_sim</code> and the
permutation-corrected score is returned as <code>eye_sim_diff</code>.
The similarity score among permuted pairs is also returned as
<code>perm_sim</code>.</p>
<p>Note on permutations and small-N. The <code>permutations</code>
argument is an upper bound. If it exceeds the number of available
non-matching candidates (determined by <code>permute_on</code>), eyesim
uses all available candidates (excluding the true match) — i.e., it is
exhaustive when possible. For example, with 3 images per participant and
<code>permute_on = participant</code>, there are only 2 non-matching
candidates per trial; setting <code>permutations = 50</code> will still
use both.</p>
<p>Note on units with <code>method = "fisherz"</code>. In this case,
<code>eye_sim</code>, <code>perm_sim</code>, and
<code>eye_sim_diff</code> are Fisher z scores (atanh of Pearson r).
Convert back to correlations with <code><a href="https://rdrr.io/r/base/Hyperbolic.html" class="external-link">tanh()</a></code> if desired (e.g.,
<code>r_diff &lt;- tanh(simres1$eye_sim_diff)</code>). With
<code>method = "pearson"</code> or <code>"spearman"</code>, values are
correlations directly.</p>
<p>Because the eye-movement fixations were generated randomly, we do not
expect a non-zero similarity score for the <code>eye_sim_diff</code>
variable, and we can test that with a one-sample t-test.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span>
<span><span class="va">enc_dens</span> <span class="op">&lt;-</span> <span class="va">eyedens</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">phase</span> <span class="op">==</span> <span class="st">"encoding"</span><span class="op">)</span></span>
<span><span class="va">ret_dens</span> <span class="op">&lt;-</span> <span class="va">eyedens</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">phase</span> <span class="op">==</span> <span class="st">"retrieval"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">simres1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/template_similarity.html">template_similarity</a></span><span class="op">(</span><span class="va">enc_dens</span>, <span class="va">ret_dens</span>, match_on<span class="op">=</span><span class="st">"image"</span>, method<span class="op">=</span><span class="st">"fisherz"</span>, permutations<span class="op">=</span><span class="fl">50</span><span class="op">)</span></span>
<span><span class="co">#&gt; template_similarity: similarity metric is fisherz</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">simres1</span><span class="op">$</span><span class="va">eye_sim_diff</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  One Sample t-test</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  simres1$eye_sim_diff</span></span>
<span><span class="co">#&gt; t = 1.0709, df = 138, p-value = 0.2861</span></span>
<span><span class="co">#&gt; alternative hypothesis: true mean is not equal to 0</span></span>
<span><span class="co">#&gt; 95 percent confidence interval:</span></span>
<span><span class="co">#&gt;  -0.0510963  0.1718359</span></span>
<span><span class="co">#&gt; sample estimates:</span></span>
<span><span class="co">#&gt;  mean of x </span></span>
<span><span class="co">#&gt; 0.06036983</span></span></code></pre></div>
<p>As expected, the t-test is not significant. We can also plot the
histograms of similarity scores.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">simres1</span><span class="op">$</span><span class="va">eye_sim</span>, main<span class="op">=</span><span class="st">"raw eye movement similarity"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">simres1</span><span class="op">$</span><span class="va">perm_sim</span>, main<span class="op">=</span><span class="st">"image-permuted eye movement similarity"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">simres1</span><span class="op">$</span><span class="va">eye_sim_diff</span>, main<span class="op">=</span><span class="st">"corrected eye movement similarity"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-15-1.png" class="r-plt" width="672"></p>
</div>
<div class="section level2">
<h2 id="multiscale-analysis">Multiscale analysis<a class="anchor" aria-label="anchor" href="#multiscale-analysis"></a>
</h2>
<p>Rather than choosing a single bandwidth (sigma) value, we can perform
multiscale analysis by providing a vector of sigma values. This approach
avoids the need to arbitrarily select a single smoothing parameter and
instead captures similarity across multiple spatial scales.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compute multiscale density maps using multiple sigma values</span></span>
<span><span class="va">eyedens_multi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/density_by.html">density_by</a></span><span class="op">(</span><span class="va">eyetab</span>, groups<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"phase"</span>, <span class="st">"image"</span>, <span class="st">"participant"</span><span class="op">)</span>, </span>
<span>                           sigma<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">50</span>, <span class="fl">100</span><span class="op">)</span>, xbounds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span>, ybounds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">enc_dens_multi</span> <span class="op">&lt;-</span> <span class="va">eyedens_multi</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">phase</span> <span class="op">==</span> <span class="st">"encoding"</span><span class="op">)</span></span>
<span><span class="va">ret_dens_multi</span> <span class="op">&lt;-</span> <span class="va">eyedens_multi</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">phase</span> <span class="op">==</span> <span class="st">"retrieval"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run template similarity analysis with multiscale data</span></span>
<span><span class="va">simres_multi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/template_similarity.html">template_similarity</a></span><span class="op">(</span><span class="va">enc_dens_multi</span>, <span class="va">ret_dens_multi</span>, </span>
<span>                                  match_on<span class="op">=</span><span class="st">"image"</span>, method<span class="op">=</span><span class="st">"fisherz"</span>, permutations<span class="op">=</span><span class="fl">50</span><span class="op">)</span></span>
<span><span class="co">#&gt; template_similarity: similarity metric is fisherz</span></span>
<span></span>
<span><span class="co"># Compare single-scale vs multiscale results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Single-scale mean similarity:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">simres1</span><span class="op">$</span><span class="va">eye_sim_diff</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Single-scale mean similarity: 0.0604</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Multiscale mean similarity:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">simres_multi</span><span class="op">$</span><span class="va">eye_sim_diff</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Multiscale mean similarity: 0.0644</span></span></code></pre></div>
<p>The multiscale approach provides a more robust similarity estimate by
averaging across different levels of spatial smoothing.</p>
</div>
<div class="section level2">
<h2 id="temporal-density-sampling">Temporal Density Sampling<a class="anchor" aria-label="anchor" href="#temporal-density-sampling"></a>
</h2>
<p>Sometimes we want to understand how eye-movement patterns relate to a
reference density map <strong>over time</strong> during a trial. For
example, in memory research, we might ask: “At each moment during
retrieval, how much does the current gaze location correspond to where
the participant looked during encoding?”</p>
<p>This is different from comparing overall density maps (which
<code>template_similarity</code> does). Instead, we sample the encoding
density at the retrieval fixation locations at each time point, creating
a time series of “reinstatement” values.</p>
<p>The <code><a href="../reference/sample_density_time.html">sample_density_time()</a></code> function provides this
capability. It takes: - A template table with density maps (e.g., from
encoding) - A source table with fixation groups (e.g., from retrieval) -
Time points at which to sample - Optional time bins for aggregation</p>
<p>This approach avoids a common problem: if you try to compute separate
density maps for short time windows, you often end up with too few
fixations (&lt;2) to estimate a density. By using the full encoding
density and sampling it over time, we avoid this issue entirely.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We already have encoding densities from above</span></span>
<span><span class="co"># Now let's sample them at retrieval fixation locations over time</span></span>
<span></span>
<span><span class="co"># First, we need an eye_table with fixation groups for retrieval</span></span>
<span><span class="va">ret_eyetab</span> <span class="op">&lt;-</span> <span class="va">eyetab</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">phase</span> <span class="op">==</span> <span class="st">"retrieval"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a matching key for both tables</span></span>
<span><span class="va">enc_dens</span> <span class="op">&lt;-</span> <span class="va">enc_dens</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>match_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">participant</span>, <span class="va">image</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ret_eyetab_matched</span> <span class="op">&lt;-</span> <span class="va">ret_eyetab</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>match_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">participant</span>, <span class="va">image</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sample encoding density at retrieval fixation locations</span></span>
<span><span class="co"># every 50ms from 0-500ms, aggregated into two 250ms bins</span></span>
<span><span class="va">temporal_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sample_density_time.html">sample_density_time</a></span><span class="op">(</span></span>
<span> template_tab <span class="op">=</span> <span class="va">enc_dens</span>,</span>
<span> source_tab <span class="op">=</span> <span class="va">ret_eyetab_matched</span>,</span>
<span> match_on <span class="op">=</span> <span class="st">"match_key"</span>,</span>
<span> times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">500</span>, by <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,</span>
<span> time_bins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">250</span>, <span class="fl">500</span><span class="op">)</span>,</span>
<span> permutations <span class="op">=</span> <span class="fl">10</span>,</span>
<span> permute_on <span class="op">=</span> <span class="st">"participant"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the results</span></span>
<span><span class="va">temporal_results</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">participant</span>, <span class="va">image</span>, <span class="va">bin_1</span>, <span class="va">bin_2</span>, <span class="va">perm_bin_1</span>, <span class="va">perm_bin_2</span>, <span class="va">diff_bin_1</span>, <span class="va">diff_bin_2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 8</span></span></span>
<span><span class="co">#&gt;   participant image   bin_1    bin_2 perm_bin_1 perm_bin_2 diff_bin_1 diff_bin_2</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> s1          im1   1.08<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span> <span style="color: #BB0000;">NA</span>   <span style="color: #949494;"> </span>    0.000<span style="text-decoration: underline;">104</span>  <span style="color: #BB0000;">NA</span>            4.19<span style="color: #949494;">e</span><span style="color: #BB0000;">-6</span>   <span style="color: #BB0000;">NA</span>   <span style="color: #949494;"> </span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> s1          im10  1.03<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span>  9.26<span style="color: #949494;">e</span><span style="color: #BB0000;">-5</span>  0.000<span style="text-decoration: underline;">103</span>   0.000<span style="text-decoration: underline;">094</span>4    9.25<span style="color: #949494;">e</span><span style="color: #BB0000;">-9</span>   -<span style="color: #BB0000;">1.73</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> s1          im11  1.03<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span> <span style="color: #BB0000;">NA</span>   <span style="color: #949494;"> </span>    0.000<span style="text-decoration: underline;">105</span>  <span style="color: #BB0000;">NA</span>           -<span style="color: #BB0000;">1.96</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-6</span>   <span style="color: #BB0000;">NA</span>   <span style="color: #949494;"> </span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> s1          im12  9.39<span style="color: #949494;">e</span><span style="color: #BB0000;">-5</span>  1.00<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span>  0.000<span style="text-decoration: underline;">089</span>7  0.000<span style="text-decoration: underline;">102</span>     4.26<span style="color: #949494;">e</span><span style="color: #BB0000;">-6</span>   -<span style="color: #BB0000;">2.08</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> s1          im13  9.99<span style="color: #949494;">e</span><span style="color: #BB0000;">-5</span>  1.01<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span>  0.000<span style="text-decoration: underline;">097</span>6  0.000<span style="text-decoration: underline;">101</span>     2.28<span style="color: #949494;">e</span><span style="color: #BB0000;">-6</span>   -<span style="color: #BB0000;">8.44</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> s1          im14  9.91<span style="color: #949494;">e</span><span style="color: #BB0000;">-5</span>  9.90<span style="color: #949494;">e</span><span style="color: #BB0000;">-5</span>  0.000<span style="text-decoration: underline;">101</span>   0.000<span style="text-decoration: underline;">098</span>8   -<span style="color: #BB0000;">1.41</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-6</span>    1.30<span style="color: #949494;">e</span><span style="color: #BB0000;">-7</span></span></span></code></pre></div>
<p>The output includes: - <code>sampled</code>: A list column with the
full time series (density value at each time point) -
<code>bin_1</code>, <code>bin_2</code>, etc.: Aggregated density values
for each time bin - <code>perm_bin_1</code>, <code>perm_bin_2</code>,
etc.: Permuted baseline values (from non-matching templates) -
<code>diff_bin_1</code>, <code>diff_bin_2</code>, etc.: The difference
(observed - permuted)</p>
<p>We can visualize how the sampled density changes over time:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract and plot the time series for a few trials</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the first 6 trials' time series</span></span>
<span><span class="va">time_series_data</span> <span class="op">&lt;-</span> <span class="va">temporal_results</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>trial_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">participant</span>, <span class="va">image</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">trial_id</span>, <span class="va">sampled</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">sampled</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">time_series_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">time</span>, y <span class="op">=</span> <span class="va">z</span>, color <span class="op">=</span> <span class="va">trial_id</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Time (ms)"</span>, y <span class="op">=</span> <span class="st">"Sampled Density Value"</span>,</span>
<span>      title <span class="op">=</span> <span class="st">"Encoding Density Sampled at Retrieval Fixation Locations"</span>,</span>
<span>      color <span class="op">=</span> <span class="st">"Trial"</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-18-1.png" class="r-plt" width="768"></p>
<p>This temporal analysis reveals when during retrieval participants are
looking at locations that were fixated during encoding, which can
provide insights into the time course of memory-guided attention.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bradley Buchsbaum.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
